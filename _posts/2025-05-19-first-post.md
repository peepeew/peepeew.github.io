---
layout: post
title:  "开启我的 Go 安全中间件项目：SafeCore-Go 的初步设计与思路"
date:   2025-05-18 23:30:00 +1000
categories: go 安全 项目设计
---

## 🧭 项目缘起：从 Flask 到 Go 的安全进阶

介绍你之前用 Flask 实现的 Secure User System，有哪些功能、解决了哪些问题，以及你为何选择用 Go 来升级成更强大可复用的中间件系统。

## 🧱 SafeCore-Go 的目标与定位

- 📌 不是简单的认证服务，而是具备「安全治理能力」的中间件。
- 🎯 服务于业务系统安全合规需求：认证、权限、脱敏、日志。
- 🌐 具备良好的工程结构，可部署、可集成、可配置。

## 🧩 模块设计初稿

我计划将安全功能结构化成以下几个模块，便于集成与扩展：

| 模块 | 功能说明 | 对应安全需求 |
|------|----------|----------------|
| `auth` | JWT 登录 / 认证中间件 | 防止身份伪造与未授权访问 |
| `rbac` | RBAC 权限模块，角色-权限-资源映射 | 落实最小权限、控制越权风险 |
| `desensitize` | 字段脱敏规则引擎（按角色 / 字段） | 数据最小化原则 / 展示合规 |
| `auditlog` | 结构化行为日志（写入 + 查询 API） | 日志审计 / 问题追踪 |
| `ratelimit` | 登录限速 / IP 封锁机制 | 防爆破攻击、防刷行为 |
| `configcenter` | JSON/YAML 安全策略配置 | 提升灵活性，适应多业务系统 |
| `healthcheck` | 系统状态接口 `/api/status` | 便于监控 / 安全扫描集成（ZAP） |

这些模块既是安全能力的核心实现方向，也将作为我后续每篇博客的开发切入点。


## 📚 SafeCore-Go 模块设计与法规对照表

| 模块名          | 功能说明                                     | 对应法规条款 / 要求                                                                 |
|-----------------|----------------------------------------------|------------------------------------------------------------------------------------|
| `auth`          | JWT 登录认证，身份验证中间件                  | ✅ 《网络安全法》第21条：用户身份真实认证<br>✅ PIPL：防止伪造身份与越权访问             |
| `rbac`          | RBAC 角色-权限-资源管理                       | ✅ 《个人信息保护法》第29条：最小必要原则<br>✅ 数据安全法：按权限访问、分级管理数据       |
| `desensitize`   | 字段级脱敏处理 + 角色可见性控制               | ✅ PIPL：敏感个人信息保护✅ 数据安全法：按等级保护数据，控制展示风险                   |
| `auditlog`      | 行为日志记录 + 查询接口                       | ✅ 《网络安全法》第21条：日志留存✅ 数据安全法：事后审计与追责支持                      |
| `ratelimit`     | 登录限速 + 爆破防御（IP封锁 / 指纹识别）      | ✅ 网络攻击防御义务✅ 2025新规：对爆破/异常行为加强监测与审查                          |
| `configcenter`  | JSON/YAML 安全策略配置引擎                    | ✅ 数据安全法：管理制度与技术措施结合✅ 新规：策略可控、审查可配置                     |
| `healthcheck`   | `/api/status` 系统健康探针 + 状态暴露接口     | ✅ 新规：要求关键信息基础设施提供可探测性✅ 便于安全扫描（ZAP等）与上线前合规检查        |

---

## 🧠 小结：法规驱动下的系统安全能力演进

SafeCore-Go 项目的模块设计并非纯粹技术堆砌，而是围绕 **“法律驱动的工程实践”** 展开。通过划分认证、权限、审计、配置等维度，实现从业务逻辑到合规落地的闭环：

- **《网络安全法》**：要求安全可控、身份真实、日志可溯 → 对应 `auth + auditlog`  
- **《数据安全法》**：强调数据分级、全生命周期保护 → 对应 `rbac + desensitize + configcenter`  
- **《个人信息保护法》**：核心是个人数据的“最小必要”+ 用户知情同意 → 对应 `rbac + desensitize`  
- **《网络安全审查办法（2025）》**：突出对“开源组件、数据出境、CI系统”的审查 → 引入 `healthcheck + configcenter` 支撑合规接口设计

📌 下一步，我会将这些模块逐步实现，并撰写开发日志与博客，欢迎关注与反馈。


## ✍️ 总结

这是我正式启动 SafeCore-Go 的第一步，希望将安全治理能力结构化输出，服务更多业务团队。
